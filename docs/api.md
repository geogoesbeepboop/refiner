<!---
This file was automatically generated by Mastro CLI
Generated on: 2025-08-10T22:23:33.882Z
Document type: api
Title: API Documentation

To prevent this file from being overwritten, add custom content
between the CUSTOM_START and CUSTOM_END markers below.
--->

# Refiner API Documentation

## Overview

The Refiner API is designed to facilitate the integration of AI-driven functionalities into applications using TypeScript and Node.js. This API provides a set of commands and services that allow developers to validate inputs, generate templates, and interact with AI clients seamlessly. The architecture emphasizes modularity, clarity, and ease of use, ensuring that developers can quickly implement and extend functionalities.

### Design Principles
- **Modularity**: Each command and service is encapsulated in its own module, promoting separation of concerns.
- **Simplicity**: Functions are designed to be straightforward, with low complexity to enhance maintainability.
- **Asynchronous Support**: While the current functions are synchronous, the architecture is prepared for future asynchronous enhancements.

## Authentication and Authorization

The Refiner API does not currently require authentication or authorization. Future versions may implement an API key or OAuth2 mechanism to secure endpoints.

## Endpoint Documentation

### 1. Validate Commands

#### `validate(input: any)`

- **File**: `lib/commands/config.js` & `lib/commands/refine.js`
- **Method**: POST
- **Description**: Validates the provided input against predefined rules.

**Request Example**:
```json
{
  "input": {
    "key": "value"
  }
}
```

**Response Example**:
```json
{
  "valid": true,
  "errors": []
}
```

### 2. AI Client

#### `getAIClient()`

- **File**: `lib/services/ai-client.js`
- **Method**: GET
- **Description**: Retrieves an instance of the AI client for further interactions.

**Response Example**:
```json
{
  "client": {
    "id": "client-id",
    "status": "active"
  }
}
```

### 3. Generative Templates

#### `buildGenerativeTemplate(data: GenerativeDetailedPromptData | GenerativeCompactPromptData, format: OutputFormat, flavor?: PromptFlavor)`

- **File**: `lib/templates/generative.js`
- **Method**: POST
- **Description**: Builds a generative template based on the provided data.

**Request Example**:
```json
{
  "data": {
    "prompt": "Generate a summary of the project.",
    "details": {}
  },
  "format": "markdown",
  "flavor": "detailed"
}
```

**Response Example**:
```json
{
  "template": "## Project Summary\n\nThis project aims to..."
}
```

### 4. Reasoning Templates

#### `buildReasoningTemplate(data: ReasoningDetailedPromptData | ReasoningCompactPromptData, format: OutputFormat, flavor?: PromptFlavor)`

- **File**: `lib/templates/reasoning.js`
- **Method**: POST
- **Description**: Constructs a reasoning template based on the provided data.

**Request Example**:
```json
{
  "data": {
    "prompt": "Explain the reasoning behind the decision.",
    "details": {}
  },
  "format": "json",
  "flavor": "compact"
}
```

**Response Example**:
```json
{
  "template": {
    "reasoning": "The decision was made based on..."
  }
}
```

## Request/Response Schemas

### Request Schema Example
```json
{
  "type": "object",
  "properties": {
    "input": {
      "type": "object",
      "additionalProperties": true
    },
    "data": {
      "type": "object",
      "properties": {
        "prompt": { "type": "string" },
        "details": { "type": "object" }
      }
    },
    "format": { "type": "string" },
    "flavor": { "type": "string", "default": "detailed" }
  },
  "required": ["input", "data", "format"]
}
```

### Response Schema Example
```json
{
  "type": "object",
  "properties": {
    "valid": { "type": "boolean" },
    "errors": {
      "type": "array",
      "items": { "type": "string" }
    },
    "template": { "type": "string" }
  }
}
```

## Error Handling and Status Codes

| Status Code | Description                          |
|-------------|--------------------------------------|
| 200         | OK                                   |
| 400         | Bad Request - Validation failed      |
| 404         | Not Found - Resource not available   |
| 500         | Internal Server Error                |

### Error Response Example
```json
{
  "error": {
    "code": 400,
    "message": "Invalid input format."
  }
}
```

## Rate Limiting and Usage Guidelines

Currently, there are no rate limits imposed on the Refiner API. However, it is recommended to implement client-side throttling to avoid overwhelming the server.

## SDK/Client Library Information

The Refiner API can be accessed directly via HTTP requests. For convenience, a client library is available in TypeScript, which abstracts the API calls and provides a more straightforward interface for developers.

### Example Usage in TypeScript
```typescript
import { getAIClient, buildGenerativeTemplate } from 'refiner-sdk';

async function generateTemplate() {
  const client = getAIClient();
  const response = await buildGenerativeTemplate({
    prompt: "Generate a summary of the project.",
    details: {}
  }, "markdown");
  
  console.log(response.template);
}
```

## Testing and Development Guidelines

1. **Environment Setup**: Ensure Node.js and TypeScript are installed.
2. **Run Tests**: Use the provided test suite to validate functionality.
3. **Contributions**: Follow the contribution guidelines for adding new features or fixing bugs.

### Running Tests
```bash
npm install
npm test
```

By following this documentation, developers can effectively integrate with the Refiner API, leveraging its capabilities to enhance their applications. For further inquiries, please refer to the support section or contact the development team.

---

<!-- CUSTOM_START -->
<!-- Add your custom content here - it will be preserved during regeneration -->
<!-- CUSTOM_END -->

*Documentation generated by [Mastro CLI](https://github.com/your-org/mastro) on 8/10/2025*